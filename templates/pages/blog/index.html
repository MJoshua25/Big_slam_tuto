{% extends 'base/base.html' %}
{% load static %}

{% block vueCdn %}
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
{% endblock %}

{% block content %}
<div class="bigslam-page-title-wrap  bigslam-style-medium bigslam-center-align">
                <div class="bigslam-header-transparent-substitute"></div>
                <div class="bigslam-page-title-overlay"></div>
                <div class="bigslam-page-title-container bigslam-container">
                    <div class="bigslam-page-title-content bigslam-item-pdlr">
                        <h1 class="bigslam-page-title">Blog</h1>
                        <div class="bigslam-page-caption">{{ sous_text }}</div>
                    </div>
                </div>
            </div>
<div class="bigslam-page-wrapper" id="bigslam-page-wrapper">
    <div class="bigslam-content-container bigslam-container" id="app">
        <div class=" bigslam-sidebar-wrap clearfix bigslam-line-height-0 bigslam-sidebar-style-right">
            <div class=" bigslam-sidebar-center bigslam-column-40 bigslam-line-height">
                <div class="gdlr-core-page-builder-body">
                    <div class="gdlr-core-pbf-section">
                        <div class="gdlr-core-pbf-section-container gdlr-core-container clearfix">
                            <div class="gdlr-core-pbf-element">
                                <div class="gdlr-core-blog-item gdlr-core-item-pdb clearfix  gdlr-core-style-blog-full" style="padding-bottom: 40px ;">
                                    <div class="gdlr-core-blog-item-holder gdlr-core-js-2 clearfix" data-layout="fitrows">
                                        <div class="gdlr-core-item-list gdlr-core-blog-full  gdlr-core-item-pdlr gdlr-core-style-left" v-for="article in articles" :key="article.id">
                                            <div class="gdlr-core-blog-thumbnail gdlr-core-media-image  gdlr-core-opacity-on-hover gdlr-core-zoom-on-hover">
                                               <a href="{# {% url 'blog:single' article.titre_slug %}#}"><img v-bind:src="article.cover" width="1280" height="580"  alt="">
                                                    <div class="gdlr-core-sticky-banner gdlr-core-title-font"><i class="fa fa-bolt"></i>Sticky Post</div>
                                                </a>
                                            </div>
                                            <div class="gdlr-core-blog-date-wrapper gdlr-core-skin-divider">
                                                {% comment %}<div class="gdlr-core-blog-date-day gdlr-core-skin-caption">{{ article.date_pub|date:"d" }}</div>
                                                <div class="gdlr-core-blog-date-month gdlr-core-skin-caption">{{ article.date_pub|date:"M" }}</div>
                                                <div class="gdlr-core-blog-date-year gdlr-core-skin-caption">{{ article.date_pub|date:"Y" }}</div>{% endcomment %}
                                            </div>
                                            <div class="gdlr-core-blog-full-content">
                                                <h3 class="gdlr-core-blog-title gdlr-core-skin-title" style="font-size: 40px ;font-weight: 800 ;letter-spacing: 0px ;"><a href="{% comment %}{% url 'blog:single' article.titre_slug %}{% endcomment %}">${ article.titre }</a></h3>
                                                <div class="gdlr-core-blog-info-wrapper gdlr-core-skin-divider">
                                                    <span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-author">
                                                        <span class="gdlr-core-head">
                                                            <i class="fa fa-user-o"></i>
                                                        </span>
                                                        <a href="#" title="Posts by John Smith" rel="author">${ article.auteur }</a>
                                                    </span>
                                                    <span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-category">
                                                        <span class="gdlr-core-head">
                                                            <i class="icon_folder-alt"></i>
                                                        </span>
                                                        <a href="{% comment %}{% url 'blog:home' %}?c={{ article.categorie.libelle }}{% endcomment %}" rel="tag">${ article.categorie }</a>
                                                    </span>
                                                    <span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-tag">
                                                    <span class="gdlr-core-head">
                                                        <i class="icon_tags_alt"></i>
                                                    </span>
                                                    {% comment %}{% for tag in article.tags.all %}{% endcomment %}
                                                    <a v-for="tag in article.tags" :key="tag.id" href="{% comment %}{% url 'blog:home' %}?t={{ tag.libelle }}{% endcomment %}" rel="tag">${ tag }</a>
                                                    {% comment %}{% if not forloop.last %}
                                                    <span class="gdlr-core-sep">,</span>
                                                    {% endif %}
                                                    {% endfor %}{% endcomment %}
                                                </span>
                                                    <span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-comment-number">
                                                        <span class="gdlr-core-head">
                                                            <i class="fa fa-comments-o"></i>
                                                        </span>
{#                                                        <a href="{% url 'blog:single' article.titre_slug %}#comments">{{ article.getNbCommentaires }} </a>#}
                                                    </span>
                                                </div>
                                                <div class="gdlr-core-blog-content">${ article.description }
                                                    <div class="clear"></div><a class="gdlr-core-excerpt-read-more gdlr-core-button gdlr-core-rectangle" href="{% comment %}{% url 'blog:single' article.titre_slug %}{% endcomment %}">Read More</a></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="gdlr-core-pagination  gdlr-core-style-circle gdlr-core-left-align gdlr-core-item-pdlr"><span aria-current="page" class="page-numbers current">1</span>
                                        <a class="page-numbers" href="page/2/index.htm">2</a>
                                        <a class="page-numbers" href="page/3/index.htm">3</a>
                                        <a class="next page-numbers" href="page/2/index.htm"></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class=" bigslam-sidebar-right bigslam-column-20 bigslam-line-height bigslam-line-height">
                <div class="bigslam-sidebar-area bigslam-item-pdlr">
                    <div id="text-7" class="widget widget_text bigslam-widget">
                        <h3 class="bigslam-widget-title">Text Widget</h3>
                        <div class="textwidget">Nulla vitae elit libero, a pharetra augue. Nulla vitae elit libero, a pharetra augue. Nulla vitae elit libero, a pharetra augue. Donec sed odio dui. Etiam porta sem malesuada.</div>
                    </div>
                    <div id="gdlr-core-recent-post-widget-2" class="widget widget_gdlr-core-recent-post-widget bigslam-widget">
                        <h3 class="bigslam-widget-title">Recent News</h3>
                        <div class="gdlr-core-recent-post-widget-wrap gdlr-core-style-1">
                            <div class="gdlr-core-recent-post-widget clearfix">
                                <div class="gdlr-core-recent-post-widget-thumbnail gdlr-core-media-image"><img src="{% static 'upload/shutterstock_109996532-150x150.jpg '%}" alt="" width="150" height="150" title="shutterstock_109996532"></div>
                                <div class="gdlr-core-recent-post-widget-content">
                                    <div class="gdlr-core-recent-post-widget-title"><a href="#">I throw myself down among the tall</a></div>
                                    <div class="gdlr-core-recent-post-widget-info"><span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-date"><span class="gdlr-core-head"><i class="fa fa-clock-o"></i></span><a href="#">June 6, 2016</a></span><span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-author"><span class="gdlr-core-head"><i class="fa fa-user-o"></i></span><a href="#" title="Posts by John Smith" rel="author">John Smith</a></span>
                                    </div>
                                </div>
                            </div>
                            <div class="gdlr-core-recent-post-widget clearfix">
                                <div class="gdlr-core-recent-post-widget-thumbnail gdlr-core-media-image"><img src="{% static 'upload/pexels-photo-110180-150x150.jpeg' %}" alt="" width="150" height="150" title="pexels-photo-110180"></div>
                                <div class="gdlr-core-recent-post-widget-content">
                                    <div class="gdlr-core-recent-post-widget-title"><a href="#">I am so happy, my dear friend</a></div>
                                    <div class="gdlr-core-recent-post-widget-info"><span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-date"><span class="gdlr-core-head"><i class="fa fa-clock-o"></i></span><a href="#">June 6, 2016</a></span><span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-author"><span class="gdlr-core-head"><i class="fa fa-user-o"></i></span><a href="#" title="Posts by John Smith" rel="author">John Smith</a></span>
                                    </div>
                                </div>
                            </div>
                            <div class="gdlr-core-recent-post-widget clearfix">
                                <div class="gdlr-core-recent-post-widget-thumbnail gdlr-core-media-image"><img src="{% static 'upload/shutterstock_326061359-150x150.jpg '%}" alt="" width="150" height="150" title="shutterstock_326061359"></div>
                                <div class="gdlr-core-recent-post-widget-content">
                                    <div class="gdlr-core-recent-post-widget-title"><a href="#">Even the all-powerful Pointing</a></div>
                                    <div class="gdlr-core-recent-post-widget-info"><span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-date"><span class="gdlr-core-head"><i class="fa fa-clock-o"></i></span><a href="#">June 6, 2016</a></span><span class="gdlr-core-blog-info gdlr-core-blog-info-font gdlr-core-skin-caption gdlr-core-blog-info-author"><span class="gdlr-core-head"><i class="fa fa-user-o"></i></span><a href="#" title="Posts by John Smith" rel="author">John Smith</a></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="recent-comments-5" class="widget widget_recent_comments bigslam-widget">
                        <h3 class="bigslam-widget-title">Recent Comments</h3>
                        <ul id="recentcomments">
                            <li class="recentcomments"><span class="comment-author-link">John Smith</span> on <a href="#">Big Slam VS New Yorkers</a></li>
                            <li class="recentcomments"><span class="comment-author-link">John Smith</span> on <a href="#">Big Slam VS New Yorkers</a></li>
                            <li class="recentcomments"><span class="comment-author-link">John Smith</span> on <a href="#">Gallery Post Format</a></li>
                            <li class="recentcomments"><span class="comment-author-link">John Smith</span> on <a href="#">Gallery Post Format</a></li>
                            <li class="recentcomments"><span class="comment-author-link">John Smith</span> on <a href="#">Standard Post Type</a></li>
                        </ul>
                    </div>
                    <div id="gdlr-core-recent-portfolio-widget-3" class="widget widget_gdlr-core-recent-portfolio-widget bigslam-widget">
                        <h3 class="bigslam-widget-title">Recent Works</h3>
                        <div class="gdlr-core-recent-portfolio-widget-wrap clearfix">
                            <div class="gdlr-core-recent-portfolio-widget gdlr-core-media-image">
                                <a href="#"><img src="{% static 'upload/shutterstock_220438474-150x150.jpg '%}" alt="" width="150" height="150" title="shutterstock_220438474"><span class="gdlr-core-image-overlay "><i class="gdlr-core-image-overlay-icon  gdlr-core-size-15 icon_link_alt"></i></span></a>
                            </div>
                            <div class="gdlr-core-recent-portfolio-widget gdlr-core-media-image">
                                <a href="#"><img src="{% static 'upload/shutterstock_306179018-150x150.jpg '%}" alt="" width="150" height="150" title="shutterstock_306179018"><span class="gdlr-core-image-overlay "><i class="gdlr-core-image-overlay-icon  gdlr-core-size-15 icon_link_alt"></i></span></a>
                            </div>
                            <div class="gdlr-core-recent-portfolio-widget gdlr-core-media-image">
                                <a href="#"><img src="{% static 'upload/shutterstock_247257382-150x150.jpg '%}" alt="" width="150" height="150" title="shutterstock_247257382"><span class="gdlr-core-image-overlay "><i class="gdlr-core-image-overlay-icon  gdlr-core-size-15 icon_link_alt"></i></span></a>
                            </div>
                            <div class="gdlr-core-recent-portfolio-widget gdlr-core-media-image">
                                <a href="#"><img src="{% static 'upload/shutterstock_326061359-150x150.jpg '%}" alt="" width="150" height="150" title="shutterstock_326061359"><span class="gdlr-core-image-overlay "><i class="gdlr-core-image-overlay-icon  gdlr-core-size-15 icon_link_alt"></i></span></a>
                            </div>
                            <div class="gdlr-core-recent-portfolio-widget gdlr-core-media-image">
                                <a href="#"><img src="{% static 'upload/pexels-photo-24546-150x150.jpg '%}" alt="" width="150" height="150" title="pexels-photo-24546"><span class="gdlr-core-image-overlay "><i class="gdlr-core-image-overlay-icon  gdlr-core-size-15 icon_link_alt"></i></span></a>
                            </div>
                            <div class="gdlr-core-recent-portfolio-widget gdlr-core-media-image">
                                <a href="#"><img src="{% static 'upload/shoes-lebron-nike-spalding-150x150.jpg '%}" alt="" width="150" height="150" title="shoes-lebron-nike-spalding"><span class="gdlr-core-image-overlay "><i class="gdlr-core-image-overlay-icon  gdlr-core-size-15 icon_link_alt"></i></span></a>
                            </div>
                            <div class="gdlr-core-recent-portfolio-widget gdlr-core-media-image">
                                <a href="#"><img src="{% static 'upload/shutterstock_105679292-150x150.jpg '%}" alt="" width="150" height="150" title="shutterstock_105679292"><span class="gdlr-core-image-overlay "><i class="gdlr-core-image-overlay-icon  gdlr-core-size-15 icon_link_alt"></i></span></a>
                            </div>
                            <div class="gdlr-core-recent-portfolio-widget gdlr-core-media-image">
                                <a href="#"><img src="{% static 'upload/shutterstock_217200307-150x150.jpg '%}" alt="" width="150" height="150" title="shutterstock_217200307"><span class="gdlr-core-image-overlay "><i class="gdlr-core-image-overlay-icon  gdlr-core-size-15 icon_link_alt"></i></span></a>
                            </div>
                        </div>
                    </div>
                    <div id="tag_cloud-3" class="widget widget_tag_cloud bigslam-widget">
                        <h3 class="bigslam-widget-title">Tag Cloud</h3>
                        <div class="tagcloud">
                            <a href="#" class="tag-cloud-link tag-link-14 tag-link-position-1" style="font-size: 8pt;" aria-label="Article (1 item)">Article</a>
                            <a href="#" class="tag-cloud-link tag-link-15 tag-link-position-2" style="font-size: 8pt;" aria-label="Building (1 item)">Building</a>
                            <a href="#" class="tag-cloud-link tag-link-16 tag-link-position-3" style="font-size: 16.75pt;" aria-label="Constructions (3 items)">Constructions</a>
                            <a href="#" class="tag-cloud-link tag-link-17 tag-link-position-4" style="font-size: 22pt;" aria-label="Industry (5 items)">Industry</a>
                            <a href="#" class="tag-cloud-link tag-link-18 tag-link-position-5" style="font-size: 22pt;" aria-label="Metal (5 items)">Metal</a>
                            <a href="#" class="tag-cloud-link tag-link-19 tag-link-position-6" style="font-size: 16.75pt;" aria-label="Mining (3 items)">Mining</a>
                            <a href="#" class="tag-cloud-link tag-link-20 tag-link-position-7" style="font-size: 19.666666666667pt;" aria-label="Nature (4 items)">Nature</a>
                            <a href="#" class="tag-cloud-link tag-link-21 tag-link-position-8" style="font-size: 13.25pt;" aria-label="News (2 items)">News</a>
                            <a href="#" class="tag-cloud-link tag-link-22 tag-link-position-9" style="font-size: 8pt;" aria-label="Oil (1 item)">Oil</a>
                            <a href="#" class="tag-cloud-link tag-link-23 tag-link-position-10" style="font-size: 22pt;" aria-label="Polymer (5 items)">Polymer</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block vue %}
<script>
app=new Vue({
    el:"#app",
    data: {
        articles:[],
        base_url: window.location.protocol + "//" + window.location.host
    },
    delimiters : ["${ ", " }"],
    mounted(){
      this.getArticles()
    },
    methods: {
        getArticles: function (){
            axios.get(this.base_url + "/api/article/?format=json")
            .then(response =>(this.articles = response.data))
        },
    }
})
</script>
{% endblock %}